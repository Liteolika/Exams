<!DOCTYPE html> <html> <head> <meta charset=utf-8 /> <title>Page Title</title> <style>article{border-top:solid 1px #000;margin-top:20px}</style> <script>function initGeo(){function e(e){var t=document.getElementById("geoContent");t.innerHTML="";var n=document.createElement("table");n.appendChild(o("Latitude",e.coords.latitude)),n.appendChild(o("Longitude",e.coords.longitude)),n.appendChild(o("Accuracy",e.coords.accuracy)),t.appendChild(n),console.log(e)}function o(e,t){var n=document.createElement("tr"),o=document.createElement("td"),d=document.createElement("td");return o.innerText=e,d.innerText=t,n.appendChild(o),n.appendChild(d),n}function t(e){console.log(e);var t=document.getElementById("geoContent");t.innerHTML="",t.innerText=e.message.toString()}document.getElementById("btnGetGeo").onclick=function(){window.navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!0,timeout:2e3})}}function initStorage(){function u(){var e=document.getElementById("storagecontent"),t=document.getElementById("storageTable");null!==t&&e.removeChild(t);var n=document.createElement("table");n.id="storageTable",n.setAttribute("style","width: 100%; border: 1px solid black;");for(var o=0;o<localStorage.length;o++){var d=localStorage.key(o),a=localStorage.getItem(d),c=document.createElement("tr"),l=document.createElement("td"),i=document.createElement("td"),r=document.createElement("td"),m=document.createElement("button");m.innerText="Remove",m.dataset.storageKey=d,m.onclick=function(){var e;e=this.dataset.storageKey,localStorage.removeItem(e),u()},r.appendChild(m),l.innerText=d,i.innerText=a,c.appendChild(l),c.appendChild(i),c.appendChild(r),n.appendChild(c)}e.appendChild(n)}document.getElementById("btnAdd").onclick=function(){var e=document.getElementById("storageKey").value,t=document.getElementById("storageValue").value;console.log("Adding: ",e,t),localStorage.setItem(e,t),u()},document.getElementById("btnLoad").onclick=function(){u()},document.getElementById("btnClear").onclick=function(){localStorage.clear()}}window.onload=function(){initStorage(),initGeo()}</script> <link href="../main.css" rel="stylesheet"></head> <body> <header> <nav> <a href=../index.html>Back to main</a> </nav> </header> <main> <header> <h1>HTML5 APIs</h1> </header> <article> <header> <h2>Storage API</h2> </header> <section> <input type=text id=storageKey /> <input type=text id=storageValue /> <button id=btnAdd>Add to storage</button> <h3>Current storage content</h3> <button id=btnLoad>Load from storage</button> <button id=btnClear>Clear storage</button> <div id=storagecontent></div> </section> </article> <article> <header> <h2>GeoLocation API</h2> </header> <section> <button id=btnGetGeo>Get GeoLocation</button> <div id=geoContent></div> </section> </article> </main> <script type="text/javascript" src="../main.js"></script></body> </html>